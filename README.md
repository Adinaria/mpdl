# Laravel API Project - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

> **–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ** —Å Laravel API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏

## üéØ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç

- **Laravel 12** —Å PHP 8.2
- **RESTful API** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–æ–ª–µ–π
- **Laravel Sanctum** –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è  
- **Spatie Permissions** —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π
- **Unit & Integration —Ç–µ—Å—Ç—ã** (Pest)
- **Docker** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Docker** –∏ **Docker Compose**
- **Git**
- –ú–∏–Ω–∏–º—É–º **2GB RAM**
- –ú–∏–Ω–∏–º—É–º **5GB** —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç
git clone <repository-url>
cd mpdl

# –°–æ–∑–¥–∞–µ–º Docker —Å–µ—Ç—å (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
docker network create project-network
```

### 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp data/project/.env.example data/project/.env

# –§–∞–π–ª .env —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è Docker, –º–µ–Ω—è—Ç—å –Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ!
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑—ã
docker-compose build

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –≤—Å–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å
docker-compose ps
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã:
- `app_test` (PHP –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- `webserver_test` (Nginx)  
- `db_test` (MariaDB)
- `adminer_test` (Web DB –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

### 4Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Laravel

```bash
# –ó–∞—Ö–æ–¥–∏–º –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker exec -it app_test bash

# –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—ã –í–ù–£–¢–†–ò –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
composer install
php artisan key:generate
php artisan migrate
php artisan db:seed
php artisan storage:link

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
chown -R www-data:www-data storage bootstrap/cache
chmod -R 775 storage bootstrap/cache

# –í—ã—Ö–æ–¥–∏–º –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
exit
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
üåê **http://localhost:8039**

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Adminer)
üóÑÔ∏è **http://localhost:6031**
- –°–µ—Ä–≤–µ—Ä: `db`
- –õ–æ–≥–∏–Ω: `test`
- –ü–∞—Ä–æ–ª—å: `test`
- –ë–∞–∑–∞: `test`

### API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
üì° –ò—Å–ø–æ–ª—å–∑—É–π **Postman** –∏–ª–∏ **curl**:

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X POST http://localhost:8039/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test",
    "last_name": "User", 
    "email": "test@example.com",
    "password": "password123",
    "password_confirmation": "password123"
  }'

# –ü–æ–ª—É—á–∏—à—å —Ç–æ–∫–µ–Ω –≤ –æ—Ç–≤–µ—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –¥–∞–ª—å—à–µ
```

---

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞—Ö–æ–¥–∏–º –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker exec -it app_test bash

# –í—Å–µ —Ç–µ—Å—Ç—ã
php artisan test

# Unit —Ç–µ—Å—Ç—ã
php artisan test tests/Unit/

# Feature —Ç–µ—Å—Ç—ã  
php artisan test tests/Feature/

# Pest —Ç–µ—Å—Ç—ã
./vendor/bin/pest
```

---

## üìö API Documentation

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| POST | `/api/v1/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è |
| POST | `/api/v1/auth/login` | –í—Ö–æ–¥ |
| POST | `/api/v1/auth/logout` | –í—ã—Ö–æ–¥ (—Å —Ç–æ–∫–µ–Ω–æ–º) |

### üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | `/api/v1/users` | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| GET | `/api/v1/users/{uuid}` | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| PUT | `/api/v1/users/{uuid}` | –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### üõ°Ô∏è –†–æ–ª–∏ (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | `/api/v1/roles` | –°–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π |
| GET | `/api/v1/roles/{uuid}` | –ü–æ–ª—É—á–∏—Ç—å —Ä–æ–ª—å |
| PUT | `/api/v1/roles/{uuid}` | –û–±–Ω–æ–≤–∏—Ç—å —Ä–æ–ª—å |
| DELETE | `/api/v1/roles/{uuid}` | –£–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å |

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Docker —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose restart app
```

### Laravel –∫–æ–º–∞–Ω–¥—ã
```bash
# –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–µ–π
php artisan optimize:clear

# –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤
php artisan route:list

# –ú–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–Ω–æ–≤–æ
php artisan migrate:fresh --seed
```

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### "network project-network not found"
```bash
docker network create project-network
```

### –ü–æ—Ä—Ç 8039 –∑–∞–Ω—è—Ç
–ò–∑–º–µ–Ω–∏ –≤ `docker-compose.yml`:
```yaml
ports:
  - "8040:80"  # –≤–º–µ—Å—Ç–æ 8039:80
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏
```bash
# –ù–∞ —Ö–æ—Å—Ç–µ
sudo chown -R $USER:$USER data/project/

# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec -it app_test chown -R www-data:www-data storage
```

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä app –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
docker-compose logs app

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ –æ–±—Ä–∞–∑
docker-compose build --no-cache app
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
‚îú‚îÄ‚îÄ Http/Controllers/API/V1/    # API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îú‚îÄ‚îÄ Http/Requests/API/V1/       # –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ Http/Resources/API/V1/      # API —Ä–µ—Å—É—Ä—Å—ã
‚îú‚îÄ‚îÄ Services/                   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ DTOs/                      # –û–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ Models/                    # Eloquent –º–æ–¥–µ–ª–∏

tests/
‚îú‚îÄ‚îÄ Unit/                      # Unit —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ Feature/                   # Integration —Ç–µ—Å—Ç—ã
```

---

## üé≠ –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –í–∫–ª—é—á–∏—Ç—å debug —Ä–µ–∂–∏–º
```bash
# –í .env –∏–∑–º–µ–Ω–∏:
APP_ENV=local
APP_DEBUG=true

# –û—á–∏—Å—Ç–∏ –∫–µ—à
php artisan config:clear
```

### –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
–ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Docker volumes, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –Ω–µ –Ω—É–∂–µ–Ω.

---

## üìù –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

‚úÖ **JWT/Sanctum –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
‚úÖ **CRUD –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–æ–ª–µ–π**  
‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (Spatie)**
‚úÖ **API —Ä–µ—Å—É—Ä—Å—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è**
‚úÖ **Unit –∏ Integration —Ç–µ—Å—Ç—ã**
‚úÖ **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**
‚úÖ **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π**
‚úÖ **Repository + Service –ø–∞—Ç—Ç–µ—Ä–Ω—ã**

---

*–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é! üöÄ*
